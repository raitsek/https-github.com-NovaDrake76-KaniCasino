try{var e,t;(t=(new(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).Error).stack)&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f218094e-8eee-4a90-9703-4cb391de3214",e._sentryDebugIdIdentifier="sentry-dbid-f218094e-8eee-4a90-9703-4cb391de3214")}catch(e){}try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"front-tonybet-main@release-1.119.3"}}catch(e){}export const __webpack_ids__=["86920"];export const __webpack_modules__={15420:function(e,t,a){a.d(t,{$J:()=>B,B9:()=>E,Bi:()=>j,CX:()=>x,Cc:()=>G,Dw:()=>A,EQ:()=>W,Ew:()=>k,Gn:()=>Q,H4:()=>J,Kb:()=>es,Lr:()=>ea,Ni:()=>ee,Qw:()=>K,S9:()=>F,Ww:()=>ei,aR:()=>D,bV:()=>et,dW:()=>er,dl:()=>Z,eS:()=>Y,fH:()=>M,jR:()=>P,nW:()=>q,oA:()=>eo,oB:()=>$,ot:()=>I,qj:()=>z,tR:()=>V,ue:()=>X});var s=a(28493),o=a(37287),r=a(23389),i=a(76681),d=a(1107),l=a(9458),n=a(42123),c=a(12597),p=a(92860),y=a(46135),u=a(37626),S=a(19458),b=a(55746),g=a(30938),f=a(24063),m=a(99026),v=a(16893),h=a(2828);S.Sc.notCalculated,S.Sc.lose,S.Sc.win,S.Sc.return,S.Sc.vip,S.Sc.rejected,S.Sc.accepted,S.Sc.cashouted;let N=(0,s.createSelector)(e=>e,(e,t)=>t,(e,t)=>({page:1,status:t,from:(0,h.CD)(v.Uq.historyTransactionDate(),e).valueOf(),till:(0,h.us)(new Date,e).valueOf(),limit:y.hM})),E=(e,t=[u.XS.PENDING])=>N(e,t),w={entities:[],tableColumns:[],loaded:!1,isLoading:!1,error:null,total:0,page:null,events:{[b._k.MATCH]:{},[b._k.SEASON]:{},[b._k.TOURNAMENT]:{},[b._k.STAGE]:{}},leagues:{},players:[],sports:[],categories:{},type:null,variants:null,limit:null,filters:null},_=(e,t)=>{var a,s;e.entities=t.betList;let o=(0,n.r7)((0,c.sA)(t.bets.events||[],(null==(a=t.bets)?void 0:a.competitors)||[]),"id");e.events={[b._k.MATCH]:o,[b._k.SEASON]:(0,n.r7)((0,y.YX)(t.bets.seasons),"id"),[b._k.TOURNAMENT]:(0,n.r7)((0,y.YX)(t.bets.leagues),"id"),[b._k.STAGE]:(0,n.r7)((0,y.YX)(t.bets.stages),"id")},e.leagues=(0,n.r7)(t.bets.leagues,"id"),e.players=t.players||(null==(s=t.bets)?void 0:s.players),e.categories=(0,n.r7)(t.bets.sportCategories,"id")},C=(e,t)=>{var a,s;let{page:o,betList:r}=t;if(1===Number(o))e.entities=t.betList;else{let t=new Set((e.entities??[]).map(e=>String(e.id)));for(let a of r){let s=String(a.id);t.has(s)||(e.entities.push(a),t.add(s))}}let i=(0,n.r7)((0,c.sA)(t.bets.events||[],(null==(a=t.bets)?void 0:a.competitors)||[]),"id"),d=(0,n.r7)((0,y.YX)(t.bets.seasons),"id"),l=(0,n.r7)((0,y.YX)(t.bets.leagues),"id"),p=(0,n.r7)((0,y.YX)(t.bets.stages),"id");e.events={[b._k.MATCH]:{...e.events[b._k.MATCH],...i},[b._k.SEASON]:{...e.events[b._k.SEASON],...d},[b._k.TOURNAMENT]:{...e.events[b._k.TOURNAMENT],...l},[b._k.STAGE]:{...e.events[b._k.STAGE],...p}},e.leagues={...e.leagues,...(0,n.r7)(t.bets.leagues,"id")},e.players=[...e.players,...t.players||(null==(s=t.bets)?void 0:s.players)||[]],e.categories={...e.categories,...(0,n.r7)(t.bets.sportCategories,"id")}},T=(e,t=[])=>{let a=t.filter(({id:t})=>!e.find(({id:e})=>e===t));return e.concat(a)},L=(0,s.createSlice)({name:f.IM,initialState:w,reducers:{getCustomerBetHistoryStart:e=>{e.loaded=!1},getCustomerBetHistoryFailure:(e,t)=>{e.error=t.payload,e.loaded=!0},getCustomerBetHistoryNextPageStart:e=>{e.loaded=!1},getCustomerBetHistoryNextPageSuccess:(e,t)=>{e.loaded=!0,e.page=+t.payload.data.page,e.limit=t.payload.data.limit,e.total=t.payload.data.total,e.type=t.payload.type,e.tableColumns=t.payload.data.columns,e.sports=T(e.sports,t.payload.data.bets.sports),C(e,t.payload.data)},searchByIdCustomerBetHistoryStart:(e,t)=>{e.isLoading=!0},searchByIdCustomerBetHistorySuccess:(e,t)=>{e.loaded=!0,e.isLoading=!1,_(e,t.payload.data)},searchByIdCustomerBetHistoryFailure:(e,t)=>{e.error=t.payload,e.isLoading=!1},removeBetById:(e,t)=>{e.entities=e.entities.filter(e=>e.bet_id!==t.payload)},setCustomerBetHistoryFilters:(e,t)=>{let a={...t.payload.filters};e.filters={...e.filters,...a}},resetStateAction:()=>w,updateBetHistoryItem:(e,t)=>{let{betId:a,amount:s}=t.payload,o=e.entities.find(e=>Number(e.bet_id)===Number(a));o&&"cashout"in o&&(o.cashout.amount=s||null)},cashoutBetHistoryItem:(e,t)=>{let a=e.entities.find(e=>Number(e.bet_id)===Number(t.payload.betId));a&&(a.cashout.amount=null,a.status=S.Sc.cashouted,a.betCashoutAmount=t.payload.amount)},removeBetHistoryItem:(e,t)=>{e.entities=e.entities.filter(e=>Number(e.bet_id)!==Number(t.payload))}},extraReducers:e=>{e.addCase(g.Yo,(e,t)=>{e.loaded=!0,e.page=+t.payload.data.page,e.limit=t.payload.data.limit,e.total=t.payload.data.total,e.type=t.payload.type,e.tableColumns=t.payload.data.columns,e.sports=t.payload.data.bets.sports,_(e,t.payload.data)})}}),k=L.reducer,{getCustomerBetHistoryStart:A,getCustomerBetHistoryNextPageStart:I,getCustomerBetHistoryNextPageSuccess:B,getCustomerBetHistoryFailure:D,searchByIdCustomerBetHistoryStart:O,searchByIdCustomerBetHistorySuccess:H,searchByIdCustomerBetHistoryFailure:R,removeBetById:U,setCustomerBetHistoryFilters:X,resetStateAction:G,updateBetHistoryItem:M,cashoutBetHistoryItem:j,removeBetHistoryItem:P}=L.actions,Y=(0,s.createSelector)(m.SL,e=>e.entities);(0,s.createSelector)(m.SL,e=>e.entities.filter(({status:e})=>e.toString()!==u.XS.REJECTED));let J=(0,s.createSelector)(m.SL,e=>e.total);(0,s.createSelector)(m.SL,e=>e.limit);let K=(0,s.createSelector)(m.SL,e=>e.events);(0,s.createSelector)(m.SL,e=>e.variants);let $=(0,s.createSelector)(m.SL,(e,t)=>t,(e,t)=>!!e.events[t]),x=(0,s.createSelector)(m.SL,(e,t)=>Number(t),(e,t)=>!!e.entities.find(e=>Number(e.bet_id)===t)),W=(0,s.createSelector)(m.SL,e=>e.leagues),q=(0,s.createSelector)(m.SL,e=>e.sports),z=(0,s.createSelector)(m.SL,e=>e.categories),F=(0,s.createSelector)(m.SL,e=>+e.page);(0,s.createSelector)(m.SL,e=>e.type),(0,s.createSelector)(m.SL,e=>e.entities.length);let V=(0,s.createSelector)(m.SL,e=>(0,n.kK)(e.entities.filter(({status:e})=>e.toString()!==u.XS.REJECTED),"date")),Z=(0,s.createSelector)(m.SL,e=>e.loaded);(0,s.createSelector)(m.SL,e=>e.isLoading),(0,s.createSelector)(m.SL,e=>e.error);let Q=(0,s.createSelector)(m.SL,e=>e.filters),ee=(0,s.createSelector)(m.SL,e=>e.entities.filter(e=>Number(e.status)===Number(u.XS.PENDING)).map(e=>e.bet_id)),et=(0,s.createSelector)(m.SL,e=>e.tableColumns.reduce((e,t)=>({...e,[t.id]:{...t}}),{})),ea=e=>({type:A.type,payload:e}),es=e=>({type:I.type,payload:e}),eo=()=>({type:G.type}),er=(e,t,{Api:a})=>e.pipe((0,o.ofType)(A.type),(0,i.w)(e=>a.customerv2.getBetHistory(e.payload).pipe((0,d.U)(e=>(0,p.M)(e)),(0,d.U)(e=>({...e,betList:p.S.convert(e.bets)})),(0,d.U)(t=>(0,g.Yo)({data:t,type:e.payload.type,relations:{variants:t.bets.variants}})),(0,l.K)(e=>(0,r.of)(D(e)))))),ei=(e,t,{Api:a})=>e.pipe((0,o.ofType)(I.type),(0,i.w)(e=>a.customerv2.getBetHistory(e.payload).pipe((0,d.U)(e=>(0,p.M)(e)),(0,d.U)(e=>({...e,betList:p.S.convert(e.bets)})),(0,d.U)(t=>B({data:t,type:e.payload.type,relations:{variants:t.bets.variants}})),(0,l.K)(e=>(0,r.of)(D(e))))))},37626:function(e,t,a){a.d(t,{XS:()=>o});var s,o=((s=o||{}).LOSE="1",s.WIN="2",s.RETURN="3",s.VIP="4",s.REJECTED="5",s.ACCEPTED="6",s.PENDING="0",s.CASHOUTED="8",s.PROCESSING="7",s.ALL="-1",s)},19458:function(e,t,a){a.d(t,{Sc:()=>r,aV:()=>i});var s,o,r=((s=r||{})[s.notCalculated=0]="notCalculated",s[s.lose=1]="lose",s[s.win=2]="win",s[s.return=3]="return",s[s.vip=4]="vip",s[s.rejected=5]="rejected",s[s.accepted=6]="accepted",s[s.pending=7]="pending",s[s.cashouted=8]="cashouted",s),i=((o=i||{}).multi="1",o.single="0",o.system="2",o)},65210:function(e,t,a){a.r(t),a.d(t,{eventUpdaterMiddleware:()=>D,isMarketExist:()=>L,selectSocketDataIds:()=>B});var s=a(34211),o=a(15420),r=a(22066),i=a(95220),d=a(55746),l=a(61044),n=a(55993),c=a(65314),p=a(39274),y=a(23409),u=a(10761),S=a(8536),b=a(35882),g=a(11736),f=a(11829),m=a(8913),v=a(61944),h=a(40346),N=a(1454),E=a(30938),w=a(80857);let _=[h.n2.type,h.yt.type,v.Yw.type,v.y9.type,u.dH.type,n.BU.type,s.ZB.type,E.Yo.type,o.$J.type,y.q8.type,p.xG.type],C=[h.$e.type,v.D9.type,c.lg.type,c.lg.type,r.Xx.type],T=(e,t)=>{let a={[u.si]:(0,u.T0)(e,t),[n.z7]:(0,n.er)(e,t),[y.rD]:(0,y.Ek)(e,t),[N.m]:(0,s.Od)(e,t),[i.gK]:(0,i.Kj)(e,t)};return Object.keys(a).filter(e=>!!a[e])||[]},L=(e,t,a)=>{let o={[u.si]:(0,u.dd)(e,t,a),[n.z7]:(0,n.d8)(e,t,a),[y.rD]:(0,y.O$)(e,t,a),[N.m]:(0,s.O0)(e,t,a),[i.gK]:(0,i.HP)(e,t,a)};return Object.keys(o).some(e=>!!o[e])},k=(e,t)=>{let a={[u.si]:u.Dc,[n.z7]:n.eo,[y.rD]:y.TJ,[N.m]:s.WO,[i.gK]:i.PT,[f.p7]:f.Gp};try{return a[e](t)}catch(t){console.error(`##check store key ${e} reducer###`)}},A=async(e,t)=>{T(e.getState(),t.payload).forEach(a=>{e.dispatch(k(a,t.payload))})},I=[d.Ne.odds,d.Ne.close,d.Ne.ended,d.Ne.eventStopped,d.Ne.eventSportStatusChanged,d.Ne.betStop,d.Ne.startLive,d.Ne.eventChanged,d.Ne.broadcastAdded,d.Ne.broadcastUpdated,d.Ne.broadcastEnabled,d.Ne.broadcastDisabled,d.Ne.broadcastRemoved,d.Ne.eventTipsAdded,d.Ne.eventTipsChanged,d.Ne.eventTipsTranslationAdded,d.Ne.eventTipsTranslationChanged],B=(e,t)=>Array.isArray(e)&&e.length?[...new Set(e.filter(e=>e.type===t||t===d.av.variant&&e.isVariant).reduce((e,t)=>[...e,...(t.outcomes||[]).map(e=>e.id)],[]))]:[],D=e=>t=>a=>{let s=t(a);if(a.type===w.f.type&&I.includes(a.payload.type)){let t=Date.now()-a.payload.payload.messageId;t>=window.debug&&console.log("###diff----##",a.payload.payload.eventId,t),A(e,a).then(()=>{let{event:t,payload:s}=a.payload;if(window.debug&&a.payload.type===d.Ne.odds){let e=Date.now()-a.payload.payload.messageId;e>=window.debug&&console.log("###store diff----##",a.payload.payload.eventId,e)}if(t===d.Ne.odds){let t=e.getState(),a=(0,l._L)(t),{odds:o}=s||{},r=B(o.filter(e=>L(t,e.id,e.specifiers)),d.av.variant).filter(e=>!(a||{})[e]);r.length&&e.dispatch((0,l.KC)(r))}if(t===d.Ne.odds){let t=e.getState(),a=(0,l.HX)(t),{odds:o}=s||{},r=B(o.filter(e=>L(t,e.id,e.specifiers)),d.av.competitors).filter(e=>!(a||{})[e]);r.length&&e.dispatch((0,l.m6)(r))}[d.Ne.close,d.Ne.ended,d.Ne.eventStopped,d.Ne.startLive,d.Ne.eventChanged].includes(t)&&(e.dispatch((0,S.k$)({period:d.vs["24h"]})),e.dispatch((0,b.JS)()))})}if(_.includes(a.type)){let{payload:t}=a,{relations:s,variants:o}=t,{variants:r}=s||{};e.dispatch((0,l.So)(r||o||[]))}if(g._3.endpoints.getNewSearchItems.matchFulfilled(a)){let{competitors:t}=a.payload.relations||{};e.dispatch((0,m.l5)(t))}if(_.includes(a.type)){let{payload:t}=a,{relations:s}=t,{competitors:o}=s||{},{competitors:r}=t,{data:i}=t||{},{bets:d}=i||{},{competitors:n}=d||{};o&&Object.keys(o).length&&e.dispatch((0,l.ZG)(o)),n&&Object.keys(n).length&&e.dispatch((0,l.ZG)(n)),r&&Object.keys(r).length&&e.dispatch((0,l.ZG)(r))}return C.includes(a.type)&&e.dispatch((0,l.JB)()),s}},11736:function(e,t,a){a.d(t,{_3:()=>u,zf:()=>S});var s=a(1978),o=a(12597),r=a(46135),i=a(55746),d=a(2674),l=a(81769),n=a(56054);let c=(0,r.h1)(window.langIso),p=(e,t,a,s,r)=>{let{payload:d,event:l}=e;if(l===i.Ne.odds){let e=(0,o._X)(t[d.eventId],d.odds),i={...a,odds:{...a.odds,[d.eventId]:e}},l={items:{...s},relations:i};r(()=>l)}},y=e=>`api/v4/v1/search/?${s.encode(e)}`,u=l.u.injectEndpoints({endpoints:e=>({getNewSearchItems:e.query({query:e=>{let t=JSON.parse(JSON.stringify(e));return Object.assign(t,{lang:c}),{url:y(t)}},transformResponse:e=>e.data,async onCacheEntryAdded(e,{getState:t,updateCachedData:s,cacheDataLoaded:o,cacheEntryRemoved:r,getCacheEntry:i}){let l=(0,d.Uw)(t()),c=(0,d.Iz)(t()),{Centrifuge:y}=l?await a.e("60931").then(a.bind(a,45418)):await a.e("75079").then(a.t.bind(a,38133,23)),u=new y(c+"?cf_protocol_version=v2");try{await o,u.connect();let{data:e}=i(),{relations:t,items:r}=e,d=null==r?void 0:r.events,c=null==t?void 0:t.odds;(!!d&&d.map(e=>e.id)||[]).forEach(e=>{let o=`${n.P7.events}:${e}`;l&&(o=(0,n.uB)(o));let i=e=>{p(e,c,t,r,s)},d=u.newSubscription(o);d.on(n.FE.publish,e=>{l?a.e("67383").then(a.bind(a,11720)).then(({decodeProtoBufMessage:t})=>{let a=t(e);i(a)}).catch(e=>console.error("Error while loading protobuf chunk:",e)):i(e.data)}),d.subscribe()})}catch(e){console.error("WebSocket connection error:",e)}await r,u.disconnect()}})})}),{useLazyGetNewSearchItemsQuery:S}=u}};
//# sourceMappingURL=86920.js.map