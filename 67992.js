try{var e,t;(t=(new(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).Error).stack)&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="87aaa8de-0a4a-4e67-90d9-9f32841e8072",e._sentryDebugIdIdentifier="sentry-dbid-87aaa8de-0a4a-4e67-90d9-9f32841e8072")}catch(e){}try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"front-tonybet-main@release-1.119.3"}}catch(e){}export const __webpack_ids__=["67992"];export const __webpack_modules__={69313:function(e,t,o){o.d(t,{$:()=>d,t:()=>n});let a=["black","blue","green","hz","marine","orange","red","rose","violet","yellow"],n="/assets/teams",d=()=>{let e,t=Math.floor(10*Math.random());do e=Math.floor(10*Math.random());while(t===e);return[`ts_${a[t]}.png`,`ts_${a[e]}.png`]}},51153:function(e,t,o){o.r(t),o.d(t,{sportPixelMiddleware:()=>N});var a,n=o(28583),d=o.n(n),i=o(87911),r=o(65144),l=o(69313),s=o(59255),u=((a=u||{})[a.online=2]="online",a[a.ended=4]="ended",a[a.line=0]="line",a[a.stopped=1]="stopped",a[a.dead=3]="dead",a[a.closed=5]="closed",a[a.cancelled=6]="cancelled",a),m=o(27445),c=o(2674),p=o(61044),v=o(55993),y=o(42253),f=o(32855),g=o(30938),w=o(99026),h=o(2828);let _="https://img.sportradar.com/ls/crest/big",b=e=>e?`${e.v}`:"",$=e=>new Promise((t,o)=>{let a=new Image;a.onload=()=>t(a.height>1&&a.width>1),a.onerror=o,a.src=e}),I=({team1:e,team2:t})=>(async()=>{let o=(0,l.$)();return{team1:await $(e)?e:`${window.location.origin}${l.t}/${o[0]}`,team2:await $(t)?t:`${window.location.origin}${l.t}/${o[1]}`}})(),k=async e=>{try{return await new Promise((t,o)=>{let a=(0,v.WB)(e.getState()),n=(0,v.Dx)(e.getState()),d=(0,v.xf)(e.getState()),i=(0,v.bF)(e.getState()),l=(0,r._c)((0,f.fo)(e.getState()),null==a?void 0:a.sportId),s=(0,v.rX)(e.getState()),c=(0,p._8)(e.getState(),(null==n?void 0:n.matchStatusId)??null),g=s.find(e=>Number(e.id)===Number(null==a?void 0:a.competitor1Id)),w=s.find(e=>Number(e.id)===Number(null==a?void 0:a.competitor2Id)),$=(0,h.vo)(null==a?void 0:a.time,"yyyy-MM-ddTHH:mm:ss"),k=(0,p.eG)(e.getState(),null==a?void 0:a.sportId,(null==a?void 0:a.status)!==u.line),S={};(0,y.V)({eventId:null==a?void 0:a.id,odds:d,sportConfig:k,onlyActive:!1}).then(({eventId:e,result:o})=>{let n=(null==l?void 0:l.providerName)==="football"?"Soccer":null==l?void 0:l.providerName;I({team1:`${_}/${null==g?void 0:g.vendorCompetitorId}.png`,team2:`${_}/${null==w?void 0:w.vendorCompetitorId}.png`}).then(d=>{e===(null==a?void 0:a.id)&&o&&(S=o),t({team_home_name:null==g?void 0:g.name,team_home_name_short:null==g?void 0:g.abbreviation,team_home_logo:d.team1,team_away_name:null==w?void 0:w.name,team_away_name_short:null==w?void 0:w.abbreviation,team_away_logo:d.team2,scheduled:`${$}+00:00`,status:c,tournament_name:null==i?void 0:i.name,match_id:`${null==a?void 0:a.id}`,sr_match_id:`${null==a?void 0:a.vendorEventId}`,sport:(n||"").toLowerCase(),odds_home:S?b(S[`${m.c}_1`]):"",odds_draw:S?b(S[`${m.c}_2`]):"",odds_away:S?b(S[`${m.c}_3`]):""})})}).catch(e=>{console.error("Error in mainLineWorkerRunner:",e)})})}catch(e){return console.log("error in generateFullEventData:",e),null}},S=[g.uD.type,i.fL.type,g.Fk.type,g.HF.type],N=e=>t=>o=>{var a,n;let r=t(o);if(S.includes(o.type)&&(0,c.Kd)(e.getState())){if(o.type===g.uD.type&&o.payload===s.vO.register&&window.srtmCommands.push({event:"track.user.registration",payload:{action:"start"}}),o.type===i.fL.type&&window.srtmCommands.push({event:"track.user.registration",payload:{action:"complete",userId:null==(n=null==(a=o.payload)?void 0:a.item)?void 0:n.id}}),o.type===g.Fk.type){let e=d()(o.payload.token);window.srtmCommands.push({event:"track.user.login",payload:{action:"complete",userId:null==e?void 0:e.user_id}})}if(o.type===g.HF.type){let t=(0,w.hF)(e.getState()),a=t.first_deposit,{txRefId:n,txAmount:d,txAmountCy:i}=o.payload.data.payload,r={action:"created",userId:null==t?void 0:t.id,transactionId:n,amount:d,currency:i};a?window.srtmCommands.push({event:"track.betting.deposit",payload:{...r}}):window.srtmCommands.push({event:"track.betting.deposit",payload:{...r,label:"first_deposit"}})}}return o.type===v.BU.type&&(0,c.Kd)(e.getState())&&k(e).then(e=>{e&&window.srtmCommands.push({event:"srt.retargeting",payload:{sportsEvent:{...e}}})}),r}},42253:function(e,t,o){var a;o.d(t,{V:()=>r});let n=null,d=0,i=new Map,r=(a=function(){var e;let t;(e=t||(t={}))[e.active=1]="active",e[e.inActive=0]="inActive",e[e.suspended=-1]="suspended";let o=e=>{let[{odds:t}={odds:0},{odds:o}={}]=e;return Math.abs(Number(t||0)-Number(o||0))},a=(e,t)=>({specifiers:e.specifiers||"",v:t.odds,id:t.id,type:t.type,status:e.status,marketId:e.id,marketType:e.type,isHandicap:e.isHandicap,isTotal:e.isTotal,withBase:e.withBase}),n=(e,t)=>`${e}_${t}`,d=(e,t)=>({[n(e.id,e.outcomes[0].id)]:a(e,e.outcomes[0]),[n(e.id,0)]:{data:Number(t)>0?`+ ${t} -`:0>Number(t)?`- ${Math.abs(+t)} +`:t},[n(e.id,e.outcomes[1].id)]:a(e,e.outcomes[1])}),i=e=>{var t;if(!e.outcomes[0]||!e.outcomes[1])return null;let o=(null==(t=e.specifiers)?void 0:t.split("=")[1])||null;return e.isHandicap?d(e,o):{[n(e.id,e.outcomes[0].id)]:a(e,e.outcomes[0]),[n(e.id,0)]:{data:o},[n(e.id,e.outcomes[1].id)]:a(e,e.outcomes[1])}},r=e=>e.withBase?i(e):e.outcomes.reduce((t,o)=>({...t,[n(e.id,o.id)]:a(e,o)}),{}),l=(e,t,a=!0)=>{let n=Object.create(null);return JSON.parse(JSON.stringify(e||[])).filter(e=>a?1===e.status:[1,-1].includes(e.status)).filter(e=>{var o;return!!(null==(o=null==e?void 0:e.outcomes)?void 0:o.length)&&(null==t?void 0:t.some(t=>Number(t.marketId)===Number(e.id)))}).map(({outcomes:e,...o})=>{let{isHandicap:a,isTotal:n,withBase:d}=(null==t?void 0:t.find(e=>Number(e.marketId)===Number(o.id)))||{};return{outcomes:e.filter(e=>!!e.active),isHandicap:a,isTotal:n,withBase:d,...o}}).sort((e,t)=>t.id-e.id).sort((e,t)=>{if(e.isHandicap&&t.isHandicap||e.isTotal&&t.isTotal){let{outcomes:a}=e,{outcomes:n}=t;return o(a)-o(n)}return 0}).reduce((e,t)=>(e.find(e=>e.id===t.id)||e.push(t),e),[]).forEach(e=>{Object.assign(n,{...r(e)})}),n};self.onmessage=e=>{let{payload:t,id:o}=e.data,{eventId:a,odds:n,sportConfig:d,onlyActive:i}=t;try{let e=l(n,d,i);self.postMessage({id:o,result:{eventId:a,result:e}})}catch(e){self.postMessage({id:o,error:e.message||e})}}},e=>{let t=++d,o=(n||((n=function(e){let t=new Blob([`(${e.toString()})()`],{type:"application/javascript"});return new Worker(URL.createObjectURL(t))}(a)).onmessage=e=>{let{id:t,result:o,error:a}=e.data,n=i.get(t);n&&(i.delete(t),a?n.reject(a):n.resolve(o))},n.onerror=e=>{i.forEach(({reject:t})=>t(e)),i.clear()}),n);return new Promise((a,n)=>{i.set(t,{resolve:a,reject:n});let d=setTimeout(()=>{i.has(t)&&(i.delete(t),n(Error("Worker timeout")))},1e4);o.postMessage({id:t,payload:e,timeoutId:d})})})}};
//# sourceMappingURL=67992.js.map